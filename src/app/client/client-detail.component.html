<div class="modal-header pb-1">
  <h4 class="modal-title">{{labels.dtitle}}</h4>
  <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body pt-0 pb-0">

  <form [formGroup]="detailForm" (ngSubmit)="onSubmit()">

    <div class="border border-primary rounded px-2">
      <h6 class="text-primary">{{labels.exasubtitle}}</h6>

      <div class="form-row">
        <div class="form-group col-12">
          <label for="name">{{labels.name}}</label>
          <input type="text" formControlName="name" class="form-control" [ngClass]="{ 'is-invalid': f.name.errors }"
            [fldvalid]="f.name" name="name" />
          <div *ngIf="f.name.invalid && (f.name.dirty || f.name.touched)" class="invalid-feedback">
            <div *ngIf="f.name.errors.required">{{labels.errrequired}}</div>
            <div *ngIf="f.name.errors.errclientexist">{{labels.errnameexist}}</div>
            <div *ngIf="f.name.errors.maxlength">{{labels.errmaxlen}}</div>
          </div>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-4">
          <label for="code">{{labels.code}}</label>
          <input type="text" name="code" formControlName="code" class="form-control" [ngClass]="{ 'is-invalid': f.code.errors }" />
          <div *ngIf="f.code.invalid && (f.code.dirty || f.code.touched)" class="invalid-feedback">
            <div *ngIf="f.code.errors.required">{{labels.errrequired}}</div>
            <div *ngIf="f.code.errors.maxlength">{{labels.errmaxlen}}</div>
          </div>
        </div>
        <div class="form-group col-4">
          <label for="agreement">{{labels.agreement}}</label>
          <input type="text" name="agreement" formControlName="agreement" class="form-control" [ngClass]="{ 'is-invalid': f.agreement.errors }" />
          <div *ngIf="f.agreement.invalid && (f.agreement.dirty || f.agreement.touched)" class="invalid-feedback">
            <div *ngIf="f.agreement.errors.maxlength">{{labels.errmaxlen}}</div>
          </div>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-4">
          <label for="ico">{{labels.ico}}</label>
          <input type="text" name="ico" formControlName="ico" class="form-control" [ngClass]="{ 'is-invalid': f.ico.errors }" />
          <div *ngIf="f.ico.invalid && (f.ico.dirty || f.ico.touched)" class="invalid-feedback">
            <div *ngIf="f.ico.errors.maxlength">{{labels.errmaxlen}}</div>
          </div>
        </div>
        <div class="form-group col-4">
          <label for="icdph">{{labels.icdph}}</label>
          <input type="text" name="icdph" formControlName="icdph" class="form-control" [ngClass]="{ 'is-invalid': f.icdph.errors }" />
          <div *ngIf="f.icdph.invalid && (f.icdph.dirty || f.icdph.touched)" class="invalid-feedback">
            <div *ngIf="f.icdph.errors.maxlength">{{labels.errmaxlen}}</div>
          </div>
        </div>
        <div class="form-group col-4">
          <label for="dic">{{labels.dic}}</label>
          <input type="text" name="dic" formControlName="dic" class="form-control" [ngClass]="{ 'is-invalid': f.dic.errors }" />
          <div *ngIf="f.dic.invalid && (f.dic.dirty || f.dic.touched)" class="invalid-feedback">
            <div *ngIf="f.dic.errors.maxlength">{{labels.errmaxlen}}</div>
          </div>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-4">
          <label for="phone">{{labels.phone}}</label>
          <input type="text" name="phone" formControlName="phone" class="form-control" [ngClass]="{ 'is-invalid': f.phone.errors }" />
          <div *ngIf="f.phone.invalid && (f.phone.dirty || f.phone.touched)" class="invalid-feedback">
            <div *ngIf="f.phone.errors.maxlength">{{labels.errmaxlen}}</div>
          </div>
        </div>
        <div class="form-group col-6">
          <label for="email">{{labels.email}}</label>
          <input type="text" name="email" formControlName="email" class="form-control" [ngClass]="{ 'is-invalid': f.email.errors }" />
          <div *ngIf="f.email.invalid && (f.email.dirty || f.email.touched)" class="invalid-feedback">
            <div *ngIf="f.email.errors.maxlength">{{labels.errmaxlen}}</div>
          </div>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-12">
          <label for="comment">{{labels.comment}}</label>
          <textarea name="comment" formControlName="comment" class="form-control" [ngClass]="{ 'is-invalid': f.comment.errors }" ></textarea>
          <div *ngIf="f.comment.invalid && (f.comment.dirty || f.comment.touched)" class="invalid-feedback">
            <div *ngIf="f.comment.errors.maxlength">{{labels.errmaxlen}}</div>
          </div>
        </div>
      </div>

    </div>
  </form>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="activeModal.dismiss('Cross click')">{{labels.btnclose}}</button>
  <button [disabled]="!recid" type="button" class="btn btn-secondary" data-dismiss="modal" (click)="alertDlg()">{{labels.btndelete}}</button>
  <button [disabled]="detailForm.invalid" type="submit" class="btn btn-primary" (click)="onSubmit()">{{labels.btnsave}}</button>
</div>

<pgalert [dlgid]="'deletealertdlg'" [dlgRef]="deleteAlert" [title]="labels.delCliTitle" [type]="'YES-NO'" (doClick)="doDelete($event)">
  <p>{{labels.delCliQuestion}}</p>
</pgalert>